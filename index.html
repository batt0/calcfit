<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suite de Calculadoras de Fitness</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .input-group {
            position: relative;
        }
        .input-unit {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
        }
        .tab-button.active {
            background-color: #06b6d4; /* cyan-600 */
            color: white;
        }
        .calculator-pane {
            display: none;
        }
        .calculator-pane.active {
            display: block;
        }
        /* Custom transition for smooth height change */
        .results-container {
            transition: max-height 0.7s ease-in-out, opacity 0.5s ease-in-out, margin-top 0.5s ease;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        .results-container.visible {
             margin-top: 2rem;
             opacity: 1;
        }
        .info-section {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid #374151; /* gray-700 */
        }
        .info-section h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #22d3ee; /* cyan-400 */
            margin-bottom: 1rem;
        }
        .info-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #a5f3fc; /* cyan-200 */
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        .info-section p, .info-section li {
            color: #d1d5db; /* gray-300 */
            line-height: 1.6;
        }
         .info-section ul {
            list-style-position: inside;
            padding-left: 0.5rem;
            margin-top: 0.5rem;
        }
        .info-section strong {
            color: #67e8f9; /* cyan-300 */
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-3xl bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8">
        
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-cyan-400">Suite de Calculadoras Fitness</h1>
            <p class="text-gray-400 mt-2">Tu centro de herramientas para optimizar tu progreso.</p>
        </div>

        <!-- Tab Buttons -->
        <div class="mb-6">
            <div class="flex flex-wrap -mb-px border-b border-gray-700 text-sm font-medium text-center text-gray-400">
                <button class="tab-button flex-auto md:flex-initial inline-block p-3 md:p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-300 hover:border-gray-500 transition active" data-tab="calories">Calorías y Macros</button>
                <button class="tab-button flex-auto md:flex-initial inline-block p-3 md:p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-300 hover:border-gray-500 transition" data-tab="fat">Grasa Corporal</button>
                <button class="tab-button flex-auto md:flex-initial inline-block p-3 md:p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-300 hover:border-gray-500 transition" data-tab="1rm">1RM</button>
                <button class="tab-button flex-auto md:flex-initial inline-block p-3 md:p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-300 hover:border-gray-500 transition" data-tab="protein">Proteína</button>
                <button class="tab-button flex-auto md:flex-initial inline-block p-3 md:p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-300 hover:border-gray-500 transition" data-tab="potential">Potencial Muscular</button>
            </div>
        </div>

        <!-- Calculator Panes -->
        <div id="calculators-wrapper">

            <!-- #1. Calories & Macros Calculator -->
            <div id="pane-calories" class="calculator-pane active">
                <form id="calories-form" class="space-y-6">
                    <!-- Form content... -->
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-lg font-medium mb-2 text-gray-300">Género</label>
                            <div class="grid grid-cols-2 gap-4">
                                <input type="radio" id="cmale" name="cgender" value="male" class="hidden" checked><label for="cmale" class="block w-full text-center py-3 px-4 bg-gray-700 rounded-lg cursor-pointer transition-all">Hombre</label>
                                <input type="radio" id="cfemale" name="cgender" value="female" class="hidden"><label for="cfemale" class="block w-full text-center py-3 px-4 bg-gray-700 rounded-lg cursor-pointer transition-all">Mujer</label>
                            </div>
                        </div>
                        <div>
                            <label for="age" class="block text-lg font-medium mb-2 text-gray-300">Edad</label>
                            <div class="input-group"><input type="number" id="age" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500" placeholder="Ej: 25" required><span class="input-unit">años</span></div>
                        </div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="input-group"><label for="cheight" class="block text-sm font-medium mb-1 text-gray-300">Altura</label><input type="number" id="cheight" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500" placeholder="Ej: 175" required><span class="input-unit">cm</span></div>
                        <div class="input-group"><label for="cweight" class="block text-sm font-medium mb-1 text-gray-300">Peso</label><input type="number" id="cweight" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500" placeholder="Ej: 70" required><span class="input-unit">kg</span></div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div><label for="activity" class="block text-sm font-medium mb-1 text-gray-300">Nivel de Actividad</label><select id="activity" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500"><option value="1.2">Sedentario (poco o nada)</option><option value="1.375">Ligero (1-3 días/sem)</option><option value="1.55">Moderado (3-5 días/sem)</option><option value="1.725">Activo (6-7 días/sem)</option><option value="1.9">Muy Activo (trabajo físico/doble entreno)</option></select></div>
                        <div><label for="goal" class="block text-sm font-medium mb-1 text-gray-300">Objetivo</label><select id="goal" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500"><option value="-500">Perder peso (-500 kcal)</option><option value="0" selected>Mantener peso</option><option value="300">Ganar peso (+300 kcal)</option></select></div>
                    </div>
                    <button type="submit" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-4 rounded-lg text-lg transition-all shadow-lg shadow-cyan-500/20">Calcular Calorías</button>
                </form>
                <div id="results-calories" class="results-container"></div>
                
                <div class="info-section">
                    <h2>Guía Esencial para Nuestra Calculadora de Calorías y Macros</h2>
                    <p>Nuestra <strong>calculadora de calorías y macronutrientes</strong> es una herramienta fundamental para cualquiera que busque optimizar su nutrición, ya sea para <strong>perder peso</strong>, <strong>ganar masa muscular</strong> o simplemente mantener un estilo de vida saludable. Entender tus necesidades energéticas es el primer paso para tomar el control de tu dieta.</p>
                    <h3>¿Cómo Calcular tus Calorías Diarias?</h3>
                    <p>Para <strong>calcular tus calorías diarias</strong>, la herramienta estima primero tu <strong>Metabolismo Basal (TMB)</strong>, que es la energía que tu cuerpo gasta en reposo. Luego, a este valor se le aplica un factor según tu nivel de actividad para obtener tu <strong>Gasto Energético Total Diario (GETD)</strong>. Este es el número de calorías que necesitas para <strong>mantener tu peso</strong> actual.</p>
                    <h3>La Importancia de los Macronutrientes (Macros)</h3>
                    <p><strong>Contar macros</strong> es tan importante como contar calorías, ya que cada uno cumple funciones vitales:</p>
                    <ul>
                        <li>▶️ <strong>Proteínas:</strong> Esenciales para la reparación y construcción de músculo, la saciedad y la salud de los tejidos.</li>
                        <li>▶️ <strong>Carbohidratos:</strong> Son tu principal fuente de energía, imprescindibles para el rendimiento deportivo y la función cerebral.</li>
                        <li>▶️ <strong>Grasas:</strong> Fundamentales para la producción hormonal, la absorción de vitaminas y la salud celular.</li>
                    </ul>
                    <h3>Aplica los Resultados a tus Objetivos</h3>
                    <p>Una vez conozcas tus <strong>necesidades calóricas</strong> de mantenimiento, puedes ajustarlas a tu meta:</p>
                    <ul>
                        <li><strong>Para Perder Peso:</strong> Deberás crear un <strong>déficit calórico</strong>, es decir, consumir menos calorías de las que indica tu GETD. Nuestra calculadora te sugiere un déficit moderado para una pérdida de grasa sostenible.</li>
                        <li><strong>Para Ganar Masa Muscular:</strong> Se requiere un <strong>superávit calórico</strong> controlado, consumiendo un poco más de tu GETD para dar a tu cuerpo la energía extra que necesita para construir nuevo tejido muscular.</li>
                    </ul>
                    <p class="mt-4">Usa esta <strong>calculadora de nutrición</strong> como el punto de partida para crear tu <strong>plan de nutrición personalizado</strong> y alcanzar tus metas de forma eficiente.</p>
                </div>
            </div>

            <!-- #2. Body Fat Calculator -->
            <div id="pane-fat" class="calculator-pane">
                <form id="fat-form" class="space-y-6">
                    <!-- Form content... -->
                     <p class="text-sm text-center text-gray-400">Usa el método de la Marina de EE.UU. Mide en la parte más estrecha (cintura/cuello) o ancha (cadera).</p>
                    <div>
                        <label class="block text-lg font-medium mb-2 text-gray-300">Género</label>
                        <div class="grid grid-cols-2 gap-4">
                            <input type="radio" id="fmale" name="fgender" value="male" class="hidden" checked><label for="fmale" class="block w-full text-center py-3 px-4 bg-gray-700 rounded-lg cursor-pointer transition-all">Hombre</label>
                            <input type="radio" id="ffemale" name="fgender" value="female" class="hidden"><label for="ffemale" class="block w-full text-center py-3 px-4 bg-gray-700 rounded-lg cursor-pointer transition-all">Mujer</label>
                        </div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="input-group"><label for="fheight" class="block text-sm font-medium mb-1 text-gray-300">Altura</label><input type="number" id="fheight" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 175" required><span class="input-unit">cm</span></div>
                        <div class="input-group"><label for="neck" class="block text-sm font-medium mb-1 text-gray-300">Cuello</label><input type="number" id="neck" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 38" required><span class="input-unit">cm</span></div>
                        <div class="input-group"><label for="waist" class="block text-sm font-medium mb-1 text-gray-300">Cintura</label><input type="number" id="waist" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 80" required><span class="input-unit">cm</span></div>
                        <div id="hip-container" class="input-group hidden"><label for="hip" class="block text-sm font-medium mb-1 text-gray-300">Cadera</label><input type="number" id="hip" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 95"><span class="input-unit">cm</span></div>
                    </div>
                    <button type="submit" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-4 rounded-lg text-lg transition-all shadow-lg shadow-cyan-500/20">Calcular % Grasa</button>
                </form>
                <div id="results-fat" class="results-container"></div>
                <div class="info-section">
                    <h2>Todo sobre la Calculadora de Grasa Corporal</h2>
                    <p>Nuestra <strong>calculadora de porcentaje de grasa corporal</strong> te ofrece una estimación fiable de tu composición corporal, un indicador mucho más preciso de tu salud y estado de forma que el simple peso en la báscula. Conocer este dato es clave para evaluar tu progreso real.</p>
                    <h3>¿Por Qué Medir la Grasa Corporal?</h3>
                    <p>Saber tu <strong>porcentaje de grasa corporal (%GC)</strong> te permite:</p>
                    <ul>
                        <li>▶️ Diferenciar entre pérdida de grasa y pérdida de músculo durante una etapa de definición.</li>
                        <li>▶️ Establecer objetivos de <strong>composición corporal</strong> más inteligentes y saludables.</li>
                        <li>▶️ Entender mejor tu nivel de fitness y los riesgos asociados a un exceso o defecto de grasa.</li>
                    </ul>
                    <h3>Método de la Marina de EE.UU.</h3>
                    <p>Esta herramienta utiliza la fórmula desarrollada por la Marina de los Estados Unidos, un método validado que estima el %GC a partir de mediciones de circunferencia corporal. Es una alternativa práctica y accesible a métodos más complejos como la plicometría o la bioimpedancia.</p>
                    <h3>Cómo Tomar las Medidas Correctamente</h3>
                    <p>Para asegurar la precisión al <strong>medir la grasa corporal</strong>, sigue estos consejos:</p>
                    <ul>
                        <li><strong>Cuello:</strong> Mide la circunferencia justo debajo de la laringe (nuez de Adán).</li>
                        <li><strong>Cintura:</strong> Para hombres, a la altura del ombligo. Para mujeres, en la parte más estrecha.</li>
                        <li><strong>Cadera (solo mujeres):</strong> Mide la parte más ancha de tus caderas.</li>
                    </ul>
                    <p class="mt-4">Utiliza esta calculadora para hacer un seguimiento periódico y ajustar tu plan de entrenamiento y nutrición para alcanzar tu <strong>porcentaje de grasa corporal ideal</strong>.</p>
                </div>
            </div>
            
            <!-- #3. 1RM Calculator -->
            <div id="pane-1rm" class="calculator-pane">
                 <form id="1rm-form" class="space-y-6">
                    <!-- Form content... -->
                    <p class="text-sm text-center text-gray-400">Calcula tu repetición máxima (1RM) basado en el peso que puedes levantar varias veces.</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="input-group"><label for="lift-weight" class="block text-sm font-medium mb-1 text-gray-300">Peso Levantado</label><input type="number" id="lift-weight" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 100" required><span class="input-unit">kg</span></div>
                        <div class="input-group"><label for="reps" class="block text-sm font-medium mb-1 text-gray-300">Repeticiones</label><input type="number" id="reps" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 5" max="12" required><span class="input-unit">reps</span></div>
                    </div>
                    <button type="submit" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-4 rounded-lg text-lg transition-all shadow-lg shadow-cyan-500/20">Calcular 1RM</button>
                </form>
                <div id="results-1rm" class="results-container"></div>
                <div class="info-section">
                    <h2>Calcula tu Fuerza con la Calculadora de 1RM</h2>
                    <p>La <strong>calculadora de 1RM (Una Repetición Máxima)</strong> es una herramienta indispensable para cualquier levantador de pesas. Te permite estimar tu <strong>fuerza máxima</strong> en un ejercicio sin necesidad de realizar un levantamiento al límite, lo que reduce significativamente el riesgo de lesión.</p>
                    <h3>¿Qué es el 1RM y por qué es Importante?</h3>
                    <p>Tu <strong>1RM</strong> es el peso máximo que puedes levantar para una sola repetición con la técnica correcta. Conocer este dato es crucial para:</p>
                    <ul>
                        <li>▶️ Programar la intensidad de tu entrenamiento de forma precisa.</li>
                        <li>▶️ Estructurar tus ciclos de periodización (bloques de fuerza, hipertrofia, etc.).</li>
                        <li>▶️ Medir tu progreso en fuerza de manera objetiva a lo largo del tiempo.</li>
                    </ul>
                    <h3>Cómo Usar los Porcentajes de tu 1RM</h3>
                    <p>Una vez que sabes tu 1RM, puedes <strong>planificar tu entrenamiento</strong> usando porcentajes para diferentes objetivos:</p>
                    <ul>
                        <li><strong>Fuerza:</strong> Trabaja principalmente en el rango del 85-100% de tu 1RM.</li>
                        <li><strong>Hipertrofia (Ganancia Muscular):</strong> El rango ideal suele estar entre el 65-85% de tu 1RM.</li>
                        <li><strong>Resistencia Muscular:</strong> Se trabaja con porcentajes inferiores al 65% de tu 1RM.</li>
                    </ul>
                    <p class="mt-4">Introduce el peso que levantaste y el número de repeticiones que completaste (idealmente entre 2 y 10 para mayor precisión) y nuestra <strong>calculadora de fuerza</strong> te dará una estimación fiable de tu 1RM y los pesos correspondientes para cada zona de entrenamiento.</p>
                </div>
            </div>

            <!-- #4. Protein Calculator -->
            <div id="pane-protein" class="calculator-pane">
                <form id="protein-form" class="space-y-6">
                    <!-- Form content... -->
                    <p class="text-sm text-center text-gray-400">Estima tus necesidades diarias de proteína según tu peso y objetivo.</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="input-group"><label for="pweight" class="block text-sm font-medium mb-1 text-gray-300">Tu Peso Corporal</label><input type="number" id="pweight" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 70" required><span class="input-unit">kg</span></div>
                        <div><label for="pgoal" class="block text-sm font-medium mb-1 text-gray-300">Objetivo Principal</label><select id="pgoal" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3"><option value="1.4">Mantenimiento / Salud General</option><option value="1.6">Ganancia Muscular</option><option value="1.8">Pérdida de Grasa (preservar músculo)</option><option value="1.2">Deportista de Resistencia</option></select></div>
                    </div>
                    <button type="submit" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-4 rounded-lg text-lg transition-all shadow-lg shadow-cyan-500/20">Calcular Proteína</button>
                </form>
                <div id="results-protein" class="results-container"></div>
                <div class="info-section">
                    <h2>Calculadora de Proteína: ¿Cuánta Necesitas Realmente?</h2>
                    <p>La proteína es el macronutriente estrella para la recuperación y el crecimiento muscular, pero saber <strong>cuánta proteína necesitas</strong> puede ser confuso. Nuestra <strong>calculadora de proteína diaria</strong> te da una recomendación personalizada basada en la evidencia científica y tus objetivos específicos.</p>
                    <h3>El Papel de la Proteína en tu Cuerpo</h3>
                    <p>Asegurar una ingesta adecuada de proteína es vital, especialmente si eres una persona activa. Sus funciones principales incluyen:</p>
                    <ul>
                        <li>▶️ Reparar las fibras musculares dañadas durante el entrenamiento.</li>
                        <li>▶️ Construir nuevo tejido muscular (hipertrofia).</li>
                        <li>▶️ Aumentar la saciedad, lo que ayuda en etapas de pérdida de grasa.</li>
                        <li>▶️ Apoyar la salud de huesos, piel y cabello.</li>
                    </ul>
                    <h3>Requerimientos de Proteína Según tu Objetivo</h3>
                    <p>No todo el mundo necesita la misma cantidad. La ingesta óptima varía:</p>
                    <ul>
                        <li><strong>Ganancia Muscular:</strong> Se necesita un aporte más elevado para maximizar la síntesis de proteínas musculares. Un rango común es 1.6-2.2 g/kg.</li>
                        <li><strong>Pérdida de Grasa:</strong> Una ingesta alta de proteína (1.8-2.5 g/kg) ayuda a preservar la masa muscular mientras estás en un déficit calórico y aumenta la saciedad.</li>
                        <li><strong>Mantenimiento y Salud:</strong> Para personas activas, un rango de 1.2-1.6 g/kg es generalmente suficiente.</li>
                    </ul>
                    <p class="mt-4">Introduce tu peso y selecciona tu objetivo principal para descubrir tu <strong>ingesta de proteína recomendada</strong>. Este dato te ayudará a estructurar tu dieta para conseguir los mejores resultados posibles.</p>
                </div>
            </div>

            <!-- #5. Muscle Potential Calculator -->
            <div id="pane-potential" class="calculator-pane">
                 <form id="muscle-form" class="space-y-6">
                    <!-- Form content... -->
                    <div>
                        <label class="block text-lg font-medium mb-2 text-gray-300">Género</label>
                        <div class="grid grid-cols-2 gap-4">
                            <input type="radio" id="mpmale" name="mpgender" value="male" class="hidden" checked><label for="mpmale" class="block w-full text-center py-3 px-4 bg-gray-700 rounded-lg cursor-pointer transition-all">Hombre</label>
                            <input type="radio" id="mpfemale" name="mpgender" value="female" class="hidden"><label for="mpfemale" class="block w-full text-center py-3 px-4 bg-gray-700 rounded-lg cursor-pointer transition-all">Mujer</label>
                        </div>
                    </div>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="input-group"><label for="mpheight" class="block text-sm font-medium mb-2 text-gray-300">Altura</label><input type="number" id="mpheight" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 175" required><span class="input-unit">cm</span></div>
                        <div class="input-group"><label for="wrist" class="block text-sm font-medium mb-2 text-gray-300">Muñeca</label><input type="number" id="wrist" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 17" step="0.1" required><span class="input-unit">cm</span></div>
                        <div class="input-group"><label for="ankle" class="block text-sm font-medium mb-2 text-gray-300">Tobillo</label><input type="number" id="ankle" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3" placeholder="Ej: 22" step="0.1" required><span class="input-unit">cm</span></div>
                    </div>
                    <div>
                        <label for="level" class="block text-lg font-medium mb-2 text-gray-300">Nivel de Experiencia</label>
                        <select id="level" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-3"><option value="beginner">Novato (0-1 años)</option><option value="intermediate">Intermedio (1-3 años)</option><option value="advanced">Avanzado (+3 años)</option></select>
                    </div>
                    <button type="submit" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-4 rounded-lg text-lg transition-all shadow-lg shadow-cyan-500/20">Calcular Potencial</button>
                </form>
                <div id="results-potential" class="results-container"></div>
                 <div class="info-section">
                    <h2>Descubre tu Potencial de Ganancia Muscular</h2>
                    <p>¿Te has preguntado alguna vez <strong>cuánto músculo puedes ganar</strong> de forma natural? Nuestra <strong>calculadora de potencial muscular</strong> te ofrece una estimación realista basada en modelos científicos, ayudándote a establecer expectativas claras y a mantener la motivación a largo plazo.</p>
                    <h3>Tu Límite Genético Muscular</h3>
                    <p>Todos tenemos un <strong>límite genético</strong> para la ganancia de masa muscular, determinado en gran medida por nuestra estructura ósea. Esta calculadora utiliza el <strong>modelo de Casey Butt</strong>, que considera tu altura y las circunferencias de muñeca y tobillo para estimar tu <strong>máxima masa muscular magra</strong> potencial.</p>
                    <h3>El Ritmo de Ganancia Muscular (Modelo de Lyle McDonald)</h3>
                    <p>Ganar músculo no es un proceso lineal. El ritmo al que puedes construir nuevo tejido es mucho más rápido al principio de tu carrera en el gimnasio y disminuye con los años de entrenamiento. Basándonos en el <strong>modelo de Lyle McDonald</strong>, te mostramos una proyección realista:</p>
                    <ul>
                        <li>▶️ <strong>Novatos (Año 1):</strong> Es la etapa de "ganancias de novato", donde el progreso es más rápido.</li>
                        <li>▶️ <strong>Intermedios (Años 2-3):</strong> Las ganancias se vuelven más moderadas pero siguen siendo significativas.</li>
                        <li>▶️ <strong>Avanzados (+3 Años):</strong> El progreso se ralentiza considerablemente y requiere una programación mucho más precisa.</li>
                    </ul>
                    <p class="mt-4">Usa esta herramienta para entender tu <strong>potencial de crecimiento muscular</strong>. Esto te permitirá fijar metas alcanzables año tras año y evitar la frustración de esperar resultados poco realistas. ¡Concéntrate en el proceso y la consistencia!</p>
                </div>
            </div>
            
            <!-- Generic Error Message -->
            <div id="error-message" class="hidden text-center bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg mt-6">
                <p>Por favor, rellena todos los campos con valores válidos.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Gender Button UI Logic ---
            const setupGenderSelectors = () => {
                const genderRadios = document.querySelectorAll('input[type="radio"][name$="gender"]');

                const updateStyles = (name) => {
                    const group = document.querySelectorAll(`input[type="radio"][name="${name}"]`);
                    group.forEach(radio => {
                        const label = document.querySelector(`label[for="${radio.id}"]`);
                        if (!label) return;

                        // Reset styles to a common base
                        label.classList.remove('bg-cyan-600', 'bg-pink-500', 'font-bold', 'opacity-60');
                        label.classList.add('bg-gray-700');

                        if (radio.checked) {
                            // Apply selected styles
                            label.classList.add('font-bold');
                            label.classList.remove('opacity-60'); 
                            if (radio.value === 'male') {
                                label.classList.replace('bg-gray-700', 'bg-cyan-600');
                            } else {
                                label.classList.replace('bg-gray-700', 'bg-pink-500');
                            }
                        } else {
                            // Apply unselected styles
                            label.classList.add('opacity-60');
                            label.classList.remove('font-bold');
                        }
                    });
                };

                genderRadios.forEach(radio => {
                    radio.addEventListener('change', () => updateStyles(radio.name));
                });

                const uniqueNames = [...new Set(Array.from(genderRadios).map(r => r.name))];
                uniqueNames.forEach(name => updateStyles(name));
            };

            setupGenderSelectors(); // Initialize gender buttons on load

            const tabs = document.querySelectorAll('.tab-button');
            const panes = document.querySelectorAll('.calculator-pane');
            const errorDiv = document.getElementById('error-message');

            // --- Tab Switching Logic ---
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetPaneId = 'pane-' + tab.dataset.tab;

                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    panes.forEach(pane => {
                        if (pane.id === targetPaneId) {
                            pane.classList.add('active');
                        } else {
                            pane.classList.remove('active');
                        }
                    });
                    // Hide all results when switching tabs
                    document.querySelectorAll('.results-container').forEach(r => {
                         r.classList.remove('visible');
                         r.style.maxHeight = '0';
                    });
                    errorDiv.classList.add('hidden');
                });
            });
            
            // --- General Helper Functions ---
            const showResults = (container, content) => {
                errorDiv.classList.add('hidden');
                container.innerHTML = content;
                container.classList.add('visible');
                container.style.maxHeight = container.scrollHeight + "px";
            };
            
            const showError = () => {
                errorDiv.classList.remove('hidden');
                document.querySelectorAll('.results-container').forEach(r => {
                    r.classList.remove('visible');
                    r.style.maxHeight = '0';
                });
            };

            // --- Calculator #1: Calories & Macros ---
            document.getElementById('calories-form').addEventListener('submit', e => {
                e.preventDefault();
                const gender = document.querySelector('input[name="cgender"]:checked').value;
                const age = parseFloat(document.getElementById('age').value);
                const height = parseFloat(document.getElementById('cheight').value);
                const weight = parseFloat(document.getElementById('cweight').value);
                const activity = parseFloat(document.getElementById('activity').value);
                const goal = parseFloat(document.getElementById('goal').value);

                if (isNaN(age) || isNaN(height) || isNaN(weight) || age <=0 || height <=0 || weight <=0) return showError();

                let bmr; // Mifflin-St Jeor Formula
                if (gender === 'male') {
                    bmr = (10 * weight) + (6.25 * height) - (5 * age) + 5;
                } else {
                    bmr = (10 * weight) + (6.25 * height) - (5 * age) - 161;
                }
                const tdee = bmr * activity;
                const targetCalories = tdee + goal;

                // Macros (Protein: 2g/kg, Fat: 25% of calories, Carbs: remainder)
                const proteinG = weight * 2;
                const fatG = (targetCalories * 0.25) / 9;
                const carbsG = (targetCalories - (proteinG * 4) - (fatG * 9)) / 4;

                const resultsHTML = `
                    <h2 class="text-2xl font-bold text-center mb-4 text-cyan-400">Tus Calorías y Macros</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                        <div class="bg-gray-700/50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold text-gray-300">Mantenimiento</h3>
                            <p class="text-2xl font-bold text-white">${tdee.toFixed(0)} kcal</p>
                        </div>
                        <div class="bg-cyan-700/50 p-4 rounded-lg border border-cyan-500">
                            <h3 class="text-lg font-semibold text-cyan-200">Tu Objetivo</h3>
                            <p class="text-3xl font-bold text-white">${targetCalories.toFixed(0)} kcal</p>
                        </div>
                         <div class="bg-gray-700/50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold text-gray-300">Metabolismo Basal</h3>
                            <p class="text-2xl font-bold text-white">${bmr.toFixed(0)} kcal</p>
                        </div>
                    </div>
                    <div class="mt-6">
                        <h3 class="text-xl font-bold text-center mb-3 text-gray-200">Distribución de Macros</h3>
                        <div class="grid grid-cols-3 gap-3 text-center">
                            <div class="bg-red-500/20 p-3 rounded-lg"><div class="font-bold text-red-300">Proteína</div><div class="text-xl font-semibold">${proteinG.toFixed(0)}g</div></div>
                            <div class="bg-yellow-500/20 p-3 rounded-lg"><div class="font-bold text-yellow-300">Grasas</div><div class="text-xl font-semibold">${fatG.toFixed(0)}g</div></div>
                            <div class="bg-blue-500/20 p-3 rounded-lg"><div class="font-bold text-blue-300">Carbs</div><div class="text-xl font-semibold">${carbsG.toFixed(0)}g</div></div>
                        </div>
                    </div>
                `;
                showResults(document.getElementById('results-calories'), resultsHTML);
            });

            // --- Calculator #2: Body Fat ---
            const hipContainer = document.getElementById('hip-container');
            document.querySelectorAll('input[name="fgender"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    hipContainer.classList.toggle('hidden', e.target.value !== 'female');
                    if(e.target.value === 'female') {
                        document.getElementById('hip').required = true;
                    } else {
                        document.getElementById('hip').required = false;
                    }
                });
            });

            document.getElementById('fat-form').addEventListener('submit', e => {
                e.preventDefault();
                const gender = document.querySelector('input[name="fgender"]:checked').value;
                const height = parseFloat(document.getElementById('fheight').value);
                const neck = parseFloat(document.getElementById('neck').value);
                const waist = parseFloat(document.getElementById('waist').value);
                
                let bfp; // Body Fat Percentage
                if (gender === 'male') {
                    if (isNaN(height) || isNaN(neck) || isNaN(waist) || height <= 0 || neck <= 0 || waist <= 0) return showError();
                    bfp = 495 / (1.0324 - 0.19077 * Math.log10(waist - neck) + 0.15456 * Math.log10(height)) - 450;
                } else {
                    const hip = parseFloat(document.getElementById('hip').value);
                    if (isNaN(height) || isNaN(neck) || isNaN(waist) || isNaN(hip) || height <= 0 || neck <= 0 || waist <= 0 || hip <= 0) return showError();
                    bfp = 495 / (1.29579 - 0.35004 * Math.log10(waist + hip - neck) + 0.22100 * Math.log10(height)) - 450;
                }

                const resultsHTML = `
                    <h2 class="text-2xl font-bold text-center mb-4 text-cyan-400">Tu Porcentaje de Grasa</h2>
                    <div class="text-center bg-gray-700/50 p-6 rounded-lg">
                        <p class="text-6xl font-bold text-white">${bfp.toFixed(1)}<span class="text-4xl text-cyan-400">%</span></p>
                    </div>
                `;
                showResults(document.getElementById('results-fat'), resultsHTML);
            });
            
            // --- Calculator #3: 1RM ---
            document.getElementById('1rm-form').addEventListener('submit', e => {
                e.preventDefault();
                const weight = parseFloat(document.getElementById('lift-weight').value);
                const reps = parseInt(document.getElementById('reps').value);

                if(isNaN(weight) || isNaN(reps) || weight <= 0 || reps <= 0) return showError();
                if(reps > 12) {
                    document.getElementById('reps').value = 12; // Cap reps at 12 for accuracy
                }
                
                // Brzycki formula
                const oneRM = weight / (1.0278 - (0.0278 * reps));

                let percentagesHTML = '';
                for (let i = 95; i >= 50; i -= 5) {
                    const percWeight = (oneRM * (i / 100)).toFixed(1);
                    percentagesHTML += `<div class="flex justify-between items-center bg-gray-700 p-3 rounded-md">
                        <span class="font-medium text-gray-300">${i}% de 1RM</span>
                        <span class="font-bold text-lg text-cyan-300">${percWeight} kg</span>
                    </div>`;
                }

                const resultsHTML = `
                    <h2 class="text-2xl font-bold text-center mb-4 text-cyan-400">Tu 1RM Estimado</h2>
                    <div class="text-center bg-gray-700/50 p-6 rounded-lg mb-6">
                        <p class="text-6xl font-bold text-white">${oneRM.toFixed(1)}<span class="text-4xl text-gray-400"> kg</span></p>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-3 text-gray-200">Porcentajes de Entrenamiento</h3>
                    <div class="space-y-2">${percentagesHTML}</div>
                `;
                showResults(document.getElementById('results-1rm'), resultsHTML);
            });
            
            // --- Calculator #4: Protein ---
            document.getElementById('protein-form').addEventListener('submit', e => {
                 e.preventDefault();
                 const weight = parseFloat(document.getElementById('pweight').value);
                 const multiplier = parseFloat(document.getElementById('pgoal').value);

                 if(isNaN(weight) || weight <= 0) return showError();

                 const proteinIntake = weight * multiplier;
                 const resultsHTML = `
                    <h2 class="text-2xl font-bold text-center mb-4 text-cyan-400">Tu Ingesta de Proteína</h2>
                    <div class="text-center bg-gray-700/50 p-6 rounded-lg">
                        <p class="text-5xl font-bold text-white">${proteinIntake.toFixed(0)}<span class="text-3xl text-gray-400"> g/día</span></p>
                        <p class="text-gray-300 mt-2">(${multiplier}g por kg de peso corporal)</p>
                    </div>
                 `;
                 showResults(document.getElementById('results-protein'), resultsHTML);
            });

            // --- Calculator #5: Muscle Potential ---
            document.getElementById('muscle-form').addEventListener('submit', e => {
                e.preventDefault();
                const gender = document.querySelector('input[name="mpgender"]:checked').value;
                const height = parseFloat(document.getElementById('mpheight').value);
                const wrist = parseFloat(document.getElementById('wrist').value);
                const ankle = parseFloat(document.getElementById('ankle').value);
                const level = document.getElementById('level').value;

                if (isNaN(height) || isNaN(wrist) || isNaN(ankle) || height <= 0 || wrist <= 0 || ankle <= 0) return showError();

                const heightIn = height / 2.54;
                const wristIn = wrist / 2.54;
                const ankleIn = ankle / 2.54;

                let maxLbmLbs = Math.pow(heightIn, 1.5) * ((Math.sqrt(wristIn) / 22.619) + (Math.sqrt(ankleIn) / 17.0104));
                if (gender === 'female') maxLbmLbs *= 0.85;

                const maxLbmKg = maxLbmLbs * 0.453592;
                const maxWeightKg = maxLbmKg / 0.90;

                const yearlyGainsKg = {
                    beginner: [9.0, 4.5, 2.2, 1.1], intermediate: [4.5, 2.2, 1.1], advanced: [2.2, 1.1]
                };
                const gainsToShow = yearlyGainsKg[level];
                let startYear = (level === 'beginner') ? 1 : (level === 'intermediate' ? 2 : 3);
                
                let gainsHTML = '';
                gainsToShow.forEach((gain, index) => {
                    gainsHTML += `<div class="flex justify-between items-center bg-gray-700 p-3 rounded-md">
                        <span class="font-medium text-gray-300">Año ${startYear + index} de entreno</span>
                        <span class="font-bold text-lg text-cyan-300">+ ${gain.toFixed(1)} kg</span>
                    </div>`;
                });

                const resultsHTML = `
                    <h2 class="text-2xl font-bold text-center mb-6 text-cyan-400">Resultados de tu Potencial</h2>
                    <div class="grid md:grid-cols-2 gap-4 text-center mb-6">
                        <div class="bg-gray-700/50 p-4 rounded-lg"><h3 class="text-lg font-semibold text-gray-300">Peso Magro Máximo</h3><p class="text-3xl font-bold text-white">${maxLbmKg.toFixed(1)} kg</p></div>
                        <div class="bg-gray-700/50 p-4 rounded-lg"><h3 class="text-lg font-semibold text-gray-300">Peso Máximo (10% Grasa)</h3><p class="text-3xl font-bold text-white">${maxWeightKg.toFixed(1)} kg</p></div>
                    </div>
                    <div><h3 class="text-xl font-bold text-center mb-4 text-gray-200">Ganancia Anual Estimada</h3><div class="space-y-2">${gainsHTML}</div></div>
                `;
                showResults(document.getElementById('results-potential'), resultsHTML);
            });
        });
    </script>
</body>
</html>
